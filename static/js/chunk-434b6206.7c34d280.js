(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-434b6206"],{"1df9":function(t,e,a){"use strict";var i=a("83a9"),n=a.n(i);n.a},"71d2":function(t,e,a){"use strict";var i=a("b775");e["a"]={GetArtcList:function(t,e,a){return Object(i["a"])({url:"/api/article/list",method:"get",params:{params:t,pageNo:e,pageSize:a}})},GetArtcDetail:function(t){return Object(i["a"])({url:"/api/article/detail",method:"get",params:{id:t}})},AddArticle:function(t){return Object(i["a"])({url:"/api/article/add",method:"post",data:t})},EditArticle:function(t){return Object(i["a"])({url:"/api/article/edit",method:"post",data:t})},DeleteArtc:function(t){return Object(i["a"])({url:"/api/article/delete",method:"post",data:{ids:t}})}}},"83a9":function(t,e,a){},cdbc:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"g-content"},[t.pageLoading?a("Loading"):a("div",[a("Alert",{staticClass:"g-mb15",attrs:{closable:""}},[t._v("温馨提醒：Mock数据，请勿刷新页面，刷新后当前数据则不存在啦，会提示“找不到该文章”")]),a("Form",{ref:"infoForm",attrs:{model:t.infoForm,rules:t.validate,"label-width":100}},[a("Form-item",{attrs:{label:"文章标题：",prop:"title"}},[a("Input",{attrs:{placeholder:"请输入文章标题"},model:{value:t.infoForm.title,callback:function(e){t.$set(t.infoForm,"title",e)},expression:"infoForm.title"}})],1),a("Form-item",{attrs:{label:"文章标签：",prop:"tags"}},[a("Select",{attrs:{multiple:"",placeholder:"请选择文章标签(可多选)"},model:{value:t.infoForm.tags,callback:function(e){t.$set(t.infoForm,"tags",e)},expression:"infoForm.tags"}},t._l(t.tagList,(function(e){return a("Option",{key:e.id,attrs:{value:e.name}},[t._v(t._s(e.name))])})),1)],1),a("Form-item",{attrs:{label:"文章内容：",prop:"content"}},[a("Tinymce",{attrs:{height:"500"},model:{value:t.infoForm.content,callback:function(e){t.$set(t.infoForm,"content",e)},expression:"infoForm.content"}})],1),a("div",{staticClass:"m-operation"},["edit"==t.pageType?a("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(e){return t.submit("infoForm")}}},[t._v("确认修改")]):a("Button",{staticClass:"fr",attrs:{type:"primary"},on:{click:function(e){return t.submit("infoForm")}}},[t._v("确认新增")]),a("Button",{staticClass:"fr",attrs:{type:"default"},on:{click:function(e){return t.$router.go(-1)}}},[t._v("返回")]),a("div",{staticClass:"clearfix"})],1)],1)],1)],1)},n=[],o=a("be51"),r=a("557c"),s=a("ed08"),c=a("71d2"),l=a("e876"),u={components:{Loading:o["a"],Tinymce:r["a"]},data:function(){return{pageLoading:!1,pageType:"add",tagList:[],articleId:"",infoForm:{title:"",tags:[],content:""},validate:{title:[{required:!0,message:"文章标题不能为空",trigger:"blur"}],content:[{required:!0,message:"文章内容不能为空",trigger:"blur"}]}}},created:function(){var t=this,e=Object(s["l"])("id");e?(this.articleId=e,this.$store.commit("SET_BREADCRUMB",[{name:"首页",path:"/Home"},{name:"文章列表",path:"/Examples/ArticleManage/List"},{name:"文章详情",path:""}]),this.getDetail(),this.pageType="edit"):(this.pageLoading=!1,this.$store.commit("SET_BREADCRUMB",[{name:"首页",path:"/Home"},{name:"文章列表",path:"/Examples/ArticleManage/List"},{name:"新增文章",path:""}])),l["a"].GetTagList().then((function(e){var a=e.code,i=e.data,n=e.message;200===a?t.tagList=i:t.$Message.warning(n)})).catch((function(t){return console.log(t)}))},methods:{submit:function(t){var e=this;this.$refs[t].validate((function(t){t?(e.pageLoading=!0,"add"==e.pageType?c["a"].AddArticle(e.infoForm).then((function(t){e.pageLoading=!1;var a=t.code,i=t.message;200==a?e.$Message.success({content:"新增文章成功!",onClose:function(){e.$router.push({name:"ArticleList"})}}):e.$Message.warning(i)})).catch((function(t){return console.log(t)})):c["a"].EditArticle(e.infoForm,e.articleId).then((function(t){e.pageLoading=!1;var a=t.code,i=t.message;200==a?(e.$Message.success("文章修改成功!"),e.getDetail()):e.$Message.warning(i)})).catch((function(t){return console.log(t)}))):e.$Message.error("提交失败！填写有误")}))},getDetail:function(){var t=this;this.pageLoading=!0,c["a"].GetArtcDetail(this.articleId).then((function(e){t.pageLoading=!1;var a=e.code,i=e.data,n=e.message;200==a?t.infoForm=i:t.$Message.warning(n)})).catch((function(t){return console.log(t)}))}}},d=u,m=(a("1df9"),a("2877")),g=Object(m["a"])(d,i,n,!1,null,null,null);e["default"]=g.exports}}]);