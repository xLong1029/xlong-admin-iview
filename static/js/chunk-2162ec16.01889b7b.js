(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2162ec16"],{"19c7":function(t,e,a){},2276:function(t,e,a){"use strict";var i=a("ed08");e["a"]={common:function(t,e,a,i,o,r,n){return t("Button",{props:{type:r,size:"small"},style:{minWidth:"64px",marginRight:n},on:{click:function(){a[i](e)}}},o)},gotoDetail:function(t,e,a,i,o,r){return t("Button",{props:{type:"primary",size:"small"},style:{minWidth:"64px",marginRight:r},on:{click:function(){a.$router.push({name:o,query:{id:e.row.id}})}}},i)},gotoPage:function(t,e,a,i,o,r){return t("Button",{props:{type:"primary",size:"small"},style:{minWidth:"64px",marginRight:r},on:{click:function(){a.$router.push({name:o})}}},i)},popUp:function(t,e,a,i,o){return t("Button",{props:{type:"primary",size:"small"},style:{minWidth:"64px",marginRight:o},on:{click:function(){a.openModel(e.row)}}},i)},showImage:function(t,e,a){return t("img",{attrs:{src:e.row.imgUrl},style:{width:"auto",maxHeight:"120px",maxWidth:"90%",margin:"15px",borderRadius:"4px",border:"1px solid #e4e5e7"},on:{error:function(t){Object(i["p"])(t,2)}}})}}},2383:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"g-content"},[a("div",{staticClass:"m-query-form fr"},[a("Form",{ref:"queryForm",attrs:{model:t.queryForm}},[a("Form-item",{staticClass:"query-item"},[a("Input",{attrs:{placeholder:"版块编号"},model:{value:t.queryForm.id,callback:function(e){t.$set(t.queryForm,"id",e)},expression:"queryForm.id"}})],1),a("Form-item",{staticClass:"query-item"},[a("Input",{attrs:{placeholder:"版块标题"},model:{value:t.queryForm.title,callback:function(e){t.$set(t.queryForm,"title",e)},expression:"queryForm.title"}})],1),a("Form-item",{staticClass:"query-item"},[a("Select",{attrs:{placeholder:"版块类型"},model:{value:t.queryForm.type,callback:function(e){t.$set(t.queryForm,"type",e)},expression:"queryForm.type"}},[a("Option",{attrs:{value:""}},[t._v("全部")]),a("Option",{attrs:{value:"1"}},[t._v("行业分类")]),a("Option",{attrs:{value:"2"}},[t._v("地区分类")])],1)],1),a("Form-item",{staticClass:"fl"},[a("Button",{staticClass:"query-button",attrs:{type:"primary"},on:{click:function(e){return t.query("queryForm","")}}},[t._v("查询")]),a("Button",{staticClass:"query-button",attrs:{type:"default"},on:{click:function(e){return t.resetQuery("queryForm")}}},[t._v("重置")])],1)],1)],1),a("div",{staticClass:"m-operation fl"},[a("Button",{staticClass:"operation-btn",attrs:{type:"primary"},on:{click:t.addSection}},[t._v("新增")]),a("Button",{staticClass:"operation-btn",attrs:{disabled:0==t.selectList.length,type:"warning"},on:{click:t.deleteData}},[t._v("删除")])],1),a("div",{staticClass:"clearfix"}),t.pageLoading?a("Loading"):a("div",[a("Table",{staticClass:"m-table-list",attrs:{border:"",columns:t.tableList,data:t.listData},on:{"on-selection-change":t.setSelectList}})],1),a("Page",{attrs:{"class-name":"m-page","show-elevator":"","show-sizer":"","show-total":"",total:t.page.dataCount,"page-size":t.page.pageSize,current:t.page.pageNo,"page-size-opts":t.page.pageSizeOpts},on:{"on-change":t.changePage,"on-page-size-change":t.changePageSize}}),a("div",{staticClass:"clearfix"}),a("Modal",{attrs:{width:"500"},on:{"on-cancel":function(e){return t.closeModal("paramsForm")}},model:{value:t.showModal,callback:function(e){t.showModal=e},expression:"showModal"}},[a("p",{attrs:{slot:"header"},slot:"header"},[a("span",{domProps:{textContent:t._s(""==t.paramsForm.title?"新增版块":"编辑版块")}})]),a("div",[a("Form",{ref:"paramsForm",attrs:{model:t.paramsForm,rules:t.validate,"label-width":100}},[a("Form-item",{attrs:{label:"版块标题：",prop:"title"}},[a("Input",{model:{value:t.paramsForm.title,callback:function(e){t.$set(t.paramsForm,"title",e)},expression:"paramsForm.title"}})],1),a("Form-item",{attrs:{label:"版块分类：",prop:"type"}},[a("Radio-group",{model:{value:t.paramsForm.type,callback:function(e){t.$set(t.paramsForm,"type",e)},expression:"paramsForm.type"}},[a("Radio",{attrs:{label:1}},[t._v("行业分类")]),a("Radio",{attrs:{label:2}},[t._v("地区分类")])],1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{size:"large"},on:{click:function(e){return t.closeModal("paramsForm")}}},[t._v("取消")]),a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(e){return t.operation("paramsForm",t.operateType)}}},[t._v("确定")])],1)])],1)},o=[],r=(a("d81d"),a("be51")),n=a("4210"),s=a("2276"),l=a("1b62"),c=a("ed08"),p={components:{Loading:r["a"]},mixins:[l["e"],l["d"],l["c"]],computed:{apiGetList:function(){var t=this;return function(){return n["a"].GetSecList(t.queryForm,t.page.pageNo,t.page.pageSize)}},apiAdd:function(){var t=this;return function(){return n["a"].AddSection(t.paramsForm)}},apiEdit:function(){var t=this;return function(){return n["a"].EditSection(t.paramsForm)}},apiDelete:function(){var t=this;return function(){return n["a"].DeleteSec(t.selectList)}}},data:function(){var t=this;return{pageLoading:!0,showModal:!1,paramsForm:{id:0,title:"",type:1},operateType:0,validate:{title:[{required:!0,message:"版块标题不能为空",trigger:"blur"}]},queryForm:{id:"",title:"",type:""},tableList:[{title:"全选",type:"selection",key:"selectAll",width:"60",align:"center"},{title:"版块编号",key:"id",align:"center"},{title:"版块标题",key:"title",align:"center"},{title:"版块类型",key:"type",align:"center",render:function(t,e){return t("span",{},1==e.row.type?"行业分类":"地区分类")}},{title:"操作",key:"operation",width:"200",align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"primary",size:"small"},style:{minWidth:"64px",marginRight:"10px"},on:{click:function(){t.openModel(a.row),t.operateType=2}}},"编辑"),s["a"].gotoDetail(e,a,t,"内容管理","ContManage")])}}],listData:[]}},created:function(){this.$store.commit("SET_BREADCRUMB",[{name:"首页",path:"/Home"},{name:"版块列表",path:""}]),this.getTableList()},methods:{setListData:function(t){t.length>0?this.listData=t.map((function(t){return{id:t.objectId,title:t.title,type:t.type}})):this.listData=[]},closeModal:function(t){this.showModal=!1,this.$refs[t].resetFields()},openModel:function(t){this.showModal=!0,this.paramsForm=Object(c["f"])(t)},operation:function(t,e){var a=this;this.$refs[t].validate((function(i){i?(a.paramsForm.type=parseInt(a.paramsForm.type),1==e?a.addData():2==e&&a.editData(),a.closeModal(t)):a.$Message.error("提交失败！填写有误")}))},addSection:function(){this.showModal=!0,this.operateType=1}}},u=p,d=(a("a6db"),a("2877")),m=Object(d["a"])(u,i,o,!1,null,"33633dbd",null);e["default"]=m.exports},"2ad4":function(t,e,a){},4210:function(t,e,a){"use strict";var i=a("b775");e["a"]={GetSecList:function(t,e,a){return Object(i["a"])({url:"/api/section/list",method:"get",params:{params:t,pageNo:e,pageSize:a}})},AddSection:function(t){return Object(i["a"])({url:"/api/section/add",method:"post",data:t})},EditSection:function(t){return Object(i["a"])({url:"/api/section/edit",method:"post",data:t})},DeleteSec:function(t){return Object(i["a"])({url:"/api/section/delete",method:"post",data:{ids:t}})},GetContList:function(t,e,a){return Object(i["a"])({url:"/api/content/list",method:"get",params:{sectionId:t,pageNo:e,pageSize:a}})},AddCont:function(t){return Object(i["a"])({url:"/api/content/add",method:"post",data:t})},EditCont:function(t){return Object(i["a"])({url:"/api/content/edit",method:"post",data:t})},DeleteCont:function(t){return Object(i["a"])({url:"/api/content/delete",method:"post",data:{ids:t}})}}},"818a":function(t,e,a){"use strict";var i=a("2ad4"),o=a.n(i);o.a},a6db:function(t,e,a){"use strict";var i=a("19c7"),o=a.n(i);o.a},be51:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"page-load",attrs:{id:"loading"}},[a("Spin",[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"18"}}),a("div",[t._v("玩命加载中...")])],1)],1)},o=[],r={name:"loading",data:function(){return{}}},n=r,s=(a("818a"),a("2877")),l=Object(s["a"])(n,i,o,!1,null,"f624f8be",null);e["a"]=l.exports}}]);