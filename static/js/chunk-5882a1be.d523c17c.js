(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5882a1be"],{"2ad4":function(e,t,a){},"818a":function(e,t,a){"use strict";var o=a("2ad4"),r=a.n(o);r.a},"8f06":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"g-content"},[e.pageLoading?a("Loading"):a("Form",{ref:"infoForm",staticStyle:{width:"700px"},attrs:{model:e.infoForm,rules:e.validate,"label-width":110}},[a("Form-item",{attrs:{label:"账号："}},[a("span",[e._v(e._s(e.infoForm.username))])]),a("Form-item",{attrs:{label:"用户昵称：",prop:"nickName"}},[a("Input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入昵称"},model:{value:e.infoForm.nickName,callback:function(t){e.$set(e.infoForm,"nickName",t)},expression:"infoForm.nickName"}})],1),a("Form-item",{attrs:{label:"真实姓名："}},[a("Input",{staticStyle:{width:"220px"},attrs:{placeholder:"请输入真实姓名"},model:{value:e.infoForm.realName,callback:function(t){e.$set(e.infoForm,"realName",t)},expression:"infoForm.realName"}})],1),a("Form-item",{attrs:{label:"头像："}},[a("ImageCropper",{attrs:{src:e.infoForm.avatar,preview:!0,fixed:!0,fixedNumber:[1,1]},on:{"update:src":function(t){return e.$set(e.infoForm,"avatar",t)},"get-img-url":e.getImgUrl}})],1),a("Form-item",{attrs:{label:"性别：",prop:"gender"}},[a("Radio-group",{model:{value:e.infoForm.gender,callback:function(t){e.$set(e.infoForm,"gender",t)},expression:"infoForm.gender"}},[a("Radio",{attrs:{label:"男"}},[e._v("男")]),a("Radio",{attrs:{label:"女"}},[e._v("女")])],1)],1),a("Form-item",[a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.submit("infoForm")}}},[e._v("确认")])],1)],1)],1)},r=[],n=a("5530"),i=a("be51"),s=a("e634"),c=a("c24f"),l=a("2f62"),m={components:{Loading:i["a"],ImageCropper:s["a"]},computed:Object(n["a"])({},Object(l["b"])(["token"])),data:function(){return{pageLoading:!1,infoForm:{username:"",nickName:"",realName:"",avatar:a("3509"),gender:"男"},validate:{nickName:[{required:!0,message:"昵称不能为空",trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"change"}]}}},created:function(){this.$store.commit("SET_BREADCRUMB",[{name:"首页",path:"/Home"},{name:"个人资料",path:"/Profile"}]),this.getProfile()},methods:{submit:function(e){var t=this;this.$refs[e].validate((function(e){e?c["a"].EditProfile(t.infoForm,t.infoForm.objectId).then((function(e){var a=e.code,o=e.message;200==a?(t.getProfile(),t.$Message.success("资料修改成功！")):t.$Message.warning(o)})).catch((function(e){return console.log(e)})):t.$Message.error("提交失败！填写有误")}))},getImgUrl:function(e){this.infoForm.avatar=e},getProfile:function(){var e=this;this.pageLoading=!0,c["a"].GetUser().then((function(t){var a=t.code,o=t.data,r=t.message;200==a?(e.pageLoading=!1,e.infoForm=Object(n["a"])({},o),e.$store.commit("SET_USER",{face:e.infoForm.avatar,nickName:e.infoForm.nickName,role:e.infoForm.role,id:e.infoForm.objectId})):e.$Message.warning(r)})).catch((function(e){return console.log(e)}))}}},f=m,u=a("2877"),d=Object(u["a"])(f,o,r,!1,null,"3c024fc0",null);t["default"]=d.exports},be51:function(e,t,a){"use strict";var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-load",attrs:{id:"loading"}},[a("Spin",[a("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"18"}}),a("div",[e._v("玩命加载中...")])],1)],1)},r=[],n={name:"loading",data:function(){return{}}},i=n,s=(a("818a"),a("2877")),c=Object(s["a"])(i,o,r,!1,null,"f624f8be",null);t["a"]=c.exports}}]);